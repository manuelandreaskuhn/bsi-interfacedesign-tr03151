<?xml version='1.0' encoding='UTF-8' standalone='yes'?>
<exception xmlns="http://bsi.bund.de/TR03151" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" id="ErrorNoDataAvailable" xsi:schemaLocation="http://bsi.bund.de/TR03151 ../../schema/exceptions.xsd">
  <name>ErrorNoDataAvailable</name>
  <description>
    <text xml:lang="en">This exception is thrown if the SE API export functions cannot find any data matching the provided selection or filter criteria. The functions exportLogMessages or exportFilteredTransactionLogs attempt to export stored data (log messages, transaction records, or other logged information) based on the caller's filtering or selection parameters, but no data in the Secure Element's storage matches those selection criteria. ErrorNoDataAvailable indicates that the export query returned an empty result set - the requested data simply does not exist or has been purged from the device.</text>
    <text xml:lang="de">Diese Ausnahme wird ausgelöst, wenn die SE API Exportfunktionen keine Daten finden, die den bereitgestellten Auswahl- oder Filterkriterien entsprechen. Die Funktionen exportLogMessages oder exportFilteredTransactionLogs versuchen, gespeicherte Daten (Protokollmeldungen, Transaktionsdatensätze oder andere protokollierte Informationen) auf Grundlage der Filterungs- oder Auswahlparameter des Aufrufers zu exportieren, aber es gibt keine Daten im Speicher des Secure Element, die diesen Auswahlkriterien entsprechen. ErrorNoDataAvailable zeigt an, dass die Exportabfrage ein leeres Ergebnis zurückgab - die angeforderten Daten existieren einfach nicht oder wurden vom Gerät gelöscht.</text>
  </description>
  <category>Data Export</category>
  <subcategory>No Match Condition</subcategory>
  <severity>Medium</severity>
  <javadoc>
    <summary>
      <text xml:lang="en">This class defines the exception ErrorNoDataAvailable that is thrown if no data has been found for the provided selection in the context of the export of stored data.</text>
      <text xml:lang="de">Diese Klasse definiert die Ausnahme ErrorNoDataAvailable, die ausgelöst wird, wenn keine Daten für die bereitgestellte Auswahl im Kontext des Exports gespeicherter Daten gefunden wurden.</text>
    </summary>
    <description>
      <text xml:lang="en">This exception is thrown when export functions attempt to retrieve and export stored data based on selection criteria but find that no data matches the specified criteria. Functions such as exportLogMessages and exportFilteredTransactionLogs accept filtering parameters (e.g., date range, event type, client ID, transaction ID) to specify which stored data should be exported. ErrorNoDataAvailable is raised when the Secure Element searches its storage using these criteria and finds zero matching records. This is an expected condition when no data matches the filter, not an error condition - it indicates the export operation cannot proceed because there is no matching data to export. Recovery requires adjusting the selection criteria (expanding date ranges, removing filters, etc.) to find matching data, or confirming that the expected data has not been logged or has been deleted.</text>
      <text xml:lang="de">Diese Ausnahme wird ausgelöst, wenn Exportfunktionen versuchen, gespeicherte Daten auf Grundlage von Auswahlkriterien abzurufen und zu exportieren, aber stellen fest, dass keine Daten den angegebenen Kriterien entsprechen. Funktionen wie exportLogMessages und exportFilteredTransactionLogs akzeptieren Filterparameter (z. B. Datumsbereich, Ereignistyp, Client-ID, Transaktions-ID), um anzugeben, welche gespeicherten Daten exportiert werden sollen. ErrorNoDataAvailable wird ausgelöst, wenn das Secure Element seinen Speicher mit diesen Kriterien durchsucht und null Übereinstimmungsdatensätze findet. Dies ist eine erwartete Bedingung, wenn keine Daten dem Filter entsprechen, keine Fehlerbedingung - sie zeigt an, dass der Exportvorgang nicht fortgesetzt werden kann, da keine passenden Daten zum Exportieren vorhanden sind. Die Wiederherstellung erfordert die Anpassung der Auswahlkriterien (Erweitern von Datumsbereichen, Entfernen von Filtern usw.), um passende Daten zu finden, oder die Bestätigung, dass die erwarteten Daten nicht protokolliert oder gelöscht wurden.</text>
    </description>
  </javadoc>
  <specification>
    <source>BSI TR-03151-1</source>
    <section>3.3.2 Data Export Operations - exportLogMessages and exportFilteredTransactionLogs</section>
    <requirement>
      <text xml:lang="en">The functions exportLogMessages and exportFilteredTransactionLogs SHALL search the Secure Element's storage for data matching the provided selection or filter criteria and export matching data. If the Secure Element searches the storage based on the provided selection criteria and finds no matching data (i.e., the result set is empty), the functions SHALL raise the exception ErrorNoDataAvailable. This exception indicates that no data matches the selection criteria - it is an expected condition, not a device error.</text>
      <text xml:lang="de">Die Funktionen exportLogMessages und exportFilteredTransactionLogs sollen den Speicher des Secure Element nach Daten durchsuchen, die den bereitgestellten Auswahl- oder Filterkriterien entsprechen, und passende Daten exportieren. Falls das Secure Element den Speicher auf Grundlage der bereitgestellten Auswahlkriterien durchsucht und keine passenden Daten findet (d. h., das Ergebnis ist leer), sollen die Funktionen die Ausnahme ErrorNoDataAvailable auslösen. Diese Ausnahme zeigt an, dass keine Daten den Auswahlkriterien entsprechen - es ist eine erwartete Bedingung, kein Gerätefehler.</text>
    </requirement>
    <applicability>
      <text xml:lang="en">Data export operations - exportLogMessages and exportFilteredTransactionLogs functions only, when filter criteria return no matches</text>
      <text xml:lang="de">Datenexportoperationen - nur Funktionen exportLogMessages und exportFilteredTransactionLogs, wenn Filterkriterien keine Übereinstimmungen zurückgeben</text>
    </applicability>
    <reference>exportLogMessages – Function (3.3.2); exportFilteredTransactionLogs – Function (3.3.2)</reference>
  </specification>
  <thrownBy>
    <function>exportLogMessages</function>
    <function>exportFilteredTransactionLogs</function>
  </thrownBy>
  <executionSequence>
    <step number="1">
      <text xml:lang="en">User/application calls exportLogMessages or exportFilteredTransactionLogs function with selection/filter parameters</text>
      <text xml:lang="de">Benutzer/Anwendung ruft exportLogMessages oder exportFilteredTransactionLogs Funktion mit Auswahl-/Filterparametern auf</text>
    </step>
    <step number="2">
      <text xml:lang="en">Function validates input parameters including filter criteria, date ranges, event types, client IDs, etc.</text>
      <text xml:lang="de">Funktion validiert Eingabeparameter einschließlich Filterkriterien, Datumsbereiche, Ereignistypen, Client-IDs usw.</text>
    </step>
    <step number="3">
      <text xml:lang="en">Function checks authorization and device state for data export operations</text>
      <text xml:lang="de">Funktion prüft Autorisierung und Gerätezustand für Datenexportoperationen</text>
    </step>
    <step number="4">
      <text xml:lang="en">Function initiates communication with Secure Element and prepares export query</text>
      <text xml:lang="de">Funktion initiiert Kommunikation mit Secure Element und bereitet Exportabfrage vor</text>
    </step>
    <step number="5">
      <text xml:lang="en">Function transmits export/search command with filter criteria to Secure Element</text>
      <text xml:lang="de">Funktion übersendet Export-/Suchbefehl mit Filterkriterien an Secure Element</text>
    </step>
    <step number="6">
      <text xml:lang="en">Secure Element searches its data storage for records matching the filter criteria</text>
      <text xml:lang="de">Secure Element durchsucht seinen Datenspeicher nach Datensätzen, die den Filterkriterien entsprechen</text>
    </step>
    <step number="6a">
      <text xml:lang="en">If matching data is found → proceed to step 7</text>
      <text xml:lang="de">Falls Übereinstimmungsdaten gefunden werden → fahren Sie mit Schritt 7 fort</text>
    </step>
    <step number="6b">
      <text xml:lang="en">If NO matching data is found (empty result set) → ErrorNoDataAvailable raised, function exits</text>
      <text xml:lang="de">Falls KEINE Übereinstimmungsdaten gefunden werden (leeres Ergebnis) → ErrorNoDataAvailable ausgelöst, Funktion beendet</text>
    </step>
    <step number="7">
      <text xml:lang="en">Function receives matching data from Secure Element</text>
      <text xml:lang="de">Funktion erhält Übereinstimmungsdaten vom Secure Element</text>
    </step>
    <step number="8">
      <text xml:lang="en">Function formats and packages data for export</text>
      <text xml:lang="de">Funktion formatiert und verpackt Daten für den Export</text>
    </step>
    <step number="9">
      <text xml:lang="en">Function closes communication channel with Secure Element</text>
      <text xml:lang="de">Funktion schließt Kommunikationskanal mit Secure Element</text>
    </step>
    <step number="10">
      <text xml:lang="en">Function returns exported data to caller</text>
      <text xml:lang="de">Funktion gibt exportierte Daten an Aufrufer zurück</text>
    </step>
  </executionSequence>
  <recovery>
    <step>
      <text xml:lang="en">Verify search parameters match data that exists</text>
      <text xml:lang="de">Stellen Sie sicher, dass Suchparameter den vorhandenen Daten entsprechen</text>
    </step>
    <step>
      <text xml:lang="en">Check if data exists using appropriate query functions</text>
      <text xml:lang="de">Prüfen Sie, ob Daten mit geeigneten Abfragefunktionen vorhanden sind</text>
    </step>
    <step>
      <text xml:lang="en">Adjust search criteria to match available data</text>
      <text xml:lang="de">Passen Sie Suchkriterien an, um verfügbaren Daten zu entsprechen</text>
    </step>
    <step>
      <text xml:lang="en">Ensure sufficient data has been created before querying</text>
      <text xml:lang="de">Stellen Sie sicher, dass ausreichend Daten vor der Abfrage erstellt wurden</text>
    </step>
  </recovery>
  <relatedExceptions>
    <exception>ErrorExportLoggingCertificateFailed</exception>
    <exception>ErrorExportSerialNumbersFailed</exception>
    <exception>ErrorDeleteLogMessagesFailed</exception>
    <exception>ErrorGetEventTypesForLoggingFailed</exception>
    <exception>ErrorFunctionFailed</exception>
  </relatedExceptions>
  <postconditionality>
    <state name="No Data Exported">
      <text xml:lang="en">No data is exported or returned to the caller. The export operation produces no output because no matching data exists to export.</text>
      <text xml:lang="de">Keine Daten werden exportiert oder an den Aufrufer zurückgegeben. Der Exportvorgang erzeugt keine Ausgabe, da keine passenden Daten zum Exportieren vorhanden sind.</text>
    </state>
    <state name="Storage Unchanged">
      <text xml:lang="en">The device's data storage remains completely unchanged by the failed export attempt. Storage contents and all data remain in their pre-call state.</text>
      <text xml:lang="de">Der Datenspeicher des Geräts bleibt durch den fehlgeschlagenen Exportversuch vollständig unverändert. Speicherinhalt und alle Daten bleiben in ihrem Zustand vor dem Aufruf.</text>
    </state>
    <state name="Device State Unmodified">
      <text xml:lang="en">The device's overall state is unmodified by the exception. The export operation is read-only and does not modify device state.</text>
      <text xml:lang="de">Der Gesamtzustand des Geräts wird durch die Ausnahme nicht geändert. Der Exportvorgang ist schreibgeschützt und ändert den Gerätezustand nicht.</text>
    </state>
    <state name="Data Integrity Preserved">
      <text xml:lang="en">All data in the device's storage remains intact and unaffected. The absence of matching data does not compromise data that exists outside the filter criteria.</text>
      <text xml:lang="de">Alle Daten im Speicher des Geräts bleiben intakt und unbeeinflusst. Das Fehlen von Übereinstimmungsdaten beeinträchtigt keine Daten, die außerhalb der Filterkriterien vorhanden sind.</text>
    </state>
    <state name="Alternative Queries Possible">
      <text xml:lang="en">The caller can retry the export operation with different filter criteria to potentially find matching data.</text>
      <text xml:lang="de">Der Aufrufer kann den Exportvorgang mit unterschiedlichen Filterkriterien erneut versuchen, um möglicherweise passende Daten zu finden.</text>
    </state>
    <state name="No Cascading Effects">
      <text xml:lang="en">The failed export operation does not trigger cascading failures or secondary exceptions.</text>
      <text xml:lang="de">Der fehlgeschlagene Exportvorgang löst keine Kaskadenfehlschlag oder sekundäre Ausnahmen aus.</text>
    </state>
  </postconditionality>
  <notes>
    <note>
      <text xml:lang="en">Indication: No data is available for the requested operation - data not found</text>
      <text xml:lang="de">Anzeichen: Keine Daten für den angeforderten Vorgang verfügbar - Daten nicht gefunden</text>
    </note>
    <note>
      <text xml:lang="en">Topics: Data Retrieval, Data Availability, Search Operations, Information Retrieval</text>
      <text xml:lang="de">Themen: Datenabruf, Datenverfügbarkeit, Suchoperationen, Informationsabruf</text>
    </note>
  </notes>
  <implementationContext>
    <note>
      <text xml:lang="en">Raised by export and query functions when no data matches criteria</text>
      <text xml:lang="de">Wird von Export- und Abfragefunktionen ausgelöst, wenn keine Daten den Kriterien entsprechen</text>
    </note>
    <note>
      <text xml:lang="en">Search operation returns empty result set</text>
      <text xml:lang="de">Suchoperation gibt leere Ergebnismenge zurück</text>
    </note>
    <note>
      <text xml:lang="en">No matching data exists for specified parameters</text>
      <text xml:lang="de">Es gibt keine passenden Daten für angegebene Parameter</text>
    </note>
    <note>
      <text xml:lang="en">Query execution completes without finding matching records</text>
      <text xml:lang="de">Abfrageausfühhrung wird abgeschlossen, ohne Übereinstimmungsdatensätze zu finden</text>
    </note>
  </implementationContext>
</exception>

