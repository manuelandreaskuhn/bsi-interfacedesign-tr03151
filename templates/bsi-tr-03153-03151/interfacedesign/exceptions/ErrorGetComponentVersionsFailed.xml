<?xml version='1.0' encoding='UTF-8' standalone='yes'?>
<exception xmlns="http://bsi.bund.de/TR03151" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" id="ErrorGetComponentVersionsFailed" xsi:schemaLocation="http://bsi.bund.de/TR03151 ../../schema/exceptions.xsd">
  <name>ErrorGetComponentVersionsFailed</name>
  <description>
    <text xml:lang="en">This exception is thrown if the SE API function getComponentVersions fails to determine the device information. ErrorGetComponentVersionsFailed represents a failure in the device's ability to retrieve and provide component version information. This exception indicates that the getComponentVersions function requested version information from the device but the device cannot assemble or provide the required version data due to a hardware error, firmware issue, version storage failure, or communication breakdown. The exception is raised when the device's component version retrieval functionality did not complete successfully, preventing applications from determining which components, firmware versions, and software versions are present on the device. The exception is raised during the version retrieval phase before version information is packaged into the return structure, ensuring no partial or incomplete version data is returned.</text>
    <text xml:lang="de">Diese Ausnahme wird ausgelöst, wenn die SE API Funktion getComponentVersions fehlschlägt, um die Geräteinformationen zu bestimmen. ErrorGetComponentVersionsFailed stellt einen Fehler in der Fähigkeit des Geräts dar, Komponentenversionsinformationen abzurufen und bereitzustellen. Diese Ausnahme zeigt an, dass die Funktion getComponentVersions Versionsinformationen vom Gerät anforderte, aber das Gerät die erforderlichen Versionsdaten aufgrund eines Hardwarefehlers, Firmware-Problems, Versionsspeicherfehlers oder Kommunikationsfehlers nicht zusammenstellen oder bereitstellen kann. Die Ausnahme wird ausgelöst, wenn die Komponentenversionwahrnehmungsfunktionalität des Geräts nicht erfolgreich abgeschlossen wurde, was verhindert, dass Anwendungen bestimmen, welche Komponenten, Firmware-Versionen und Software-Versionen auf dem Gerät vorhanden sind. Die Ausnahme wird während der Versionsabfragephase ausgelöst, bevor Versionsinformationen in die Rückgabestruktur verpackt werden, um sicherzustellen, dass keine teilweisen oder unvollständigen Versionsdaten zurückgegeben werden.</text>
  </description>
  <category>Device Management</category>
  <subcategory>Version Retrieval</subcategory>
  <severity>Medium</severity>
  <javadoc>
    <summary>
      <text xml:lang="en">This class defines the exception ErrorGetComponentVersionsFailed that is thrown if the SE API function getComponentVersions fails to determine the device information.</text>
      <text xml:lang="de">Diese Klasse definiert die Ausnahme ErrorGetComponentVersionsFailed, die ausgelöst wird, wenn die SE API Funktion getComponentVersions fehlschlägt, um die Geräteinformationen zu bestimmen.</text>
    </summary>
    <description>
      <text xml:lang="en">The getComponentVersions function performs a multi-step process to retrieve version information about device components and software. This exception is raised when the device cannot provide the required version information during the retrieval phase. When this exception occurs, no version data is returned to the user, and the function exits without providing any partial version information. The failure indicates that the device's version information retrieval functionality did not complete successfully, preventing applications from determining which components and versions are present on the device.</text>
      <text xml:lang="de">Die Funktion getComponentVersions führt einen mehrstufigen Prozess durch, um Versionsinformationen über Gerätekomponenten und Software abzurufen. Diese Ausnahme wird ausgelöst, wenn das Gerät die erforderlichen Versionsinformationen während der Abfragephase nicht bereitstellen kann. Wenn diese Ausnahme auftritt, werden keine Versionsdaten an den Benutzer zurückgegeben, und die Funktion wird beendet, ohne teilweise Versionsinformationen bereitzustellen. Der Fehler zeigt an, dass die Versionsinformationsabfragefunktionalität des Geräts nicht erfolgreich abgeschlossen wurde, was verhindert, dass Anwendungen bestimmen, welche Komponenten und Versionen auf dem Gerät vorhanden sind.</text>
    </description>
  </javadoc>
  <specification>
    <source>BSI TR-03151-1</source>
    <section>3.3.9 Device Information - getComponentVersions</section>
    <requirement>
      <text xml:lang="en">The function getComponentVersions SHALL retrieve version information for all device components including firmware, Secure Element, software modules, and hardware components. If the device cannot provide or retrieve the required component version information, the function SHALL raise the exception ErrorGetComponentVersionsFailed and exit without returning any version data. The version information retrieval failure indicates the device's component version query functionality could not complete successfully.</text>
      <text xml:lang="de">Die Funktion getComponentVersions soll Versionsinformationen für alle Gerätekomponenten abrufen, einschließlich Firmware, Secure Element, Software-Module und Hardware-Komponenten. Falls das Gerät die erforderlichen Komponentenversionsinformationen nicht bereitstellen oder abrufen kann, soll die Funktion die Ausnahme ErrorGetComponentVersionsFailed auslösen und beendet werden, ohne Versionsdaten zurückzugeben. Der Fehler bei der Versionsinformationsabfrage zeigt an, dass die Komponentenversionsfrage-Funktionalität des Geräts nicht erfolgreich abgeschlossen werden konnte.</text>
    </requirement>
    <applicability>
      <text xml:lang="en">Device information retrieval operations - getComponentVersions function only</text>
      <text xml:lang="de">Operationen zur Geräteninformationsabfrage - nur Funktion getComponentVersions</text>
    </applicability>
    <reference>getComponentVersions – Function (3.3.9)</reference>
  </specification>
  <thrownBy>
    <function>getComponentVersions</function>
  </thrownBy>
  <executionSequence>
    <step number="1" name="Function Invocation">
      <text xml:lang="en">User or application calls getComponentVersions function</text>
      <text xml:lang="de">Benutzer oder Anwendung ruft die Funktion getComponentVersions auf</text>
    </step>
    <step number="2" name="Authentication Check">
      <text xml:lang="en">The function checks authentication status if required by the implementation guideline</text>
      <text xml:lang="de">Die Funktion prüft den Authentifizierungsstatus, falls von der Implementierungsrichtlinie erforderlich</text>
    </step>
    <step number="3" name="Authorization Check">
      <text xml:lang="en">The function checks authorization to verify the caller has permission to query device information</text>
      <text xml:lang="de">Die Funktion prüft die Autorisierung, um zu verifizieren, dass der Aufrufer die Berechtigung zur Abfrage von Geräteinformationen hat</text>
    </step>
    <step number="4" name="Device Initialization Verification">
      <text xml:lang="en">The function verifies that the device is in an initialized state and ready for information queries</text>
      <text xml:lang="de">Die Funktion überprüft, dass das Gerät in einem initialisierten Zustand ist und für Informationsabfragen bereit ist</text>
    </step>
    <step number="5" name="Component Version Request">
      <text xml:lang="en">The function sends a request to the device to retrieve component version information including firmware, Secure Element, bootloader, and other component versions</text>
      <text xml:lang="de">Die Funktion sendet eine Anfrage an das Gerät, um Komponentenversionsinformationen abzurufen, einschließlich Firmware, Secure Element, Bootloader und anderer Komponentenversionen</text>
    </step>
    <step number="5a" name="Version Retrieval Success">
      <text xml:lang="en">If the device successfully retrieves all component version information, execution continues to step 6 (not taken in this exception case)</text>
      <text xml:lang="de">Falls das Gerät alle Komponentenversionsinformationen erfolgreich abruft, wird die Ausführung zu Schritt 6 fortgesetzt (nicht in diesem Ausnahmefall)</text>
    </step>
    <step number="5b" name="Version Retrieval Failure">
      <text xml:lang="en">If the device cannot retrieve, assemble, or provide the required version information due to storage failure, firmware error, communication loss, quota exhaustion, or security restrictions, execution branches to exception handling at step 6b</text>
      <text xml:lang="de">Falls das Gerät die erforderlichen Versionsinformationen aufgrund eines Speicherfehlers, Firmware-Fehlers, Kommunikationsverlusts, Ressourcenerschöpfung oder Sicherheitsbeschränkungen nicht abrufen, zusammenstellen oder bereitstellen kann, wird die Ausführung zur Ausnahmeverarbeitung bei Schritt 6b verzweigt</text>
    </step>
    <step number="6a" name="Version Data Assembly">
      <text xml:lang="en">Upon successful version retrieval, the function packages the version information into the return structure (not taken in this exception case)</text>
      <text xml:lang="de">Nach erfolgreicher Versionsabfrage packt die Funktion die Versionsinformationen in die Rückgabestruktur (nicht in diesem Ausnahmefall)</text>
    </step>
    <step number="6b" name="Exception Context Preparation">
      <text xml:lang="en">Upon version retrieval failure, exception context is prepared including device error details, version query context, and timestamp</text>
      <text xml:lang="de">Bei Versionsabfragefehler wird der Ausnahmekontekt vorbereitet, einschließlich Gerätefehlterdetails, Versionsabfragekontext und Zeitstempel</text>
    </step>
    <step number="7" name="Exception Instance Creation">
      <text xml:lang="en">ErrorGetComponentVersionsFailed exception instance is created with error message indicating device component version retrieval failure</text>
      <text xml:lang="de">ErrorGetComponentVersionsFailed-Ausnahminstanz wird mit Fehlermeldung erstellt, die einen Fehler bei der Gerätekomponentenversionabfrage anzeigt</text>
    </step>
    <step number="8" name="Exception Propagation">
      <text xml:lang="en">Exception is raised and propagated up the call stack without returning any version data to the caller</text>
      <text xml:lang="de">Die Ausnahme wird ausgelöst und über den Call-Stack propagiert, ohne Versionsdaten an den Aufrufer zurückzugeben</text>
    </step>
    <step number="9" name="Device State Verification">
      <text xml:lang="en">The device and version storage remain in their current state with no modifications or data extraction having occurred</text>
      <text xml:lang="de">Das Gerät und der Versionsspeicher bleiben in ihrem aktuellen Zustand mit keinen Änderungen oder Datenautzügen</text>
    </step>
  </executionSequence>
  <recovery>
    <step>
      <text xml:lang="en">Verify device is initialized</text>
      <text xml:lang="de">Stellen Sie sicher, dass das Gerät initialisiert ist</text>
    </step>
    <step>
      <text xml:lang="en">Confirm Secure Element is operational</text>
      <text xml:lang="de">Bestätigen Sie, dass das Secure Element funktionsfähig ist</text>
    </step>
    <step>
      <text xml:lang="en">Retry version query operation</text>
      <text xml:lang="de">Wiederholen Sie den Versionsinabufrvorgang</text>
    </step>
    <step>
      <text xml:lang="en">Check device status if operation remains unavailable</text>
      <text xml:lang="de">Prüfen Sie den Gerätestatus, wenn der Vorgang nicht verfügbar bleibt</text>
    </step>
  </recovery>
  <relatedExceptions>
    <exception>ErrorFunctionFailed</exception>
    <exception>ErrorDeviceNotInitialized</exception>
    <exception>ErrorFunctionNotSupported</exception>
  </relatedExceptions>
  <postconditionality>
    <state name="Version Data State">
      <text xml:lang="en">No version data is returned to the caller. The component version retrieval has not completed and no information of any kind is provided to the user.</text>
      <text xml:lang="de">Es werden keine Versionsdaten an den Aufrufer zurückgegeben. Die Komponentenversionabfrage wurde nicht abgeschlossen und es werden keine Informationen an den Benutzer bereitgestellt.</text>
    </state>
    <state name="Device State">
      <text xml:lang="en">Device state remains completely unchanged. No modifications to internal state, configuration, or data structures have occurred during the version retrieval attempt.</text>
      <text xml:lang="de">Der Gerätezustand bleibt vollständig unverändert. Es wurden keine Änderungen am internen Zustand, der Konfiguration oder den Datenstrukturen während des Versionabfrageversuches vorgenommen.</text>
    </state>
    <state name="Version Storage State">
      <text xml:lang="en">Version storage on device remains unchanged and all component versions remain stored in the device's internal storage. No version data has been extracted or modified.</text>
      <text xml:lang="de">Der Versionsspeicher auf dem Gerät bleibt unverändert und alle Komponentenversionen bleiben im internen Speicher des Geräts gespeichert. Es wurden keine Versionsdaten extrahiert oder geändert.</text>
    </state>
    <state name="State Consistency">
      <text xml:lang="en">No state inconsistency exists. The function exits at the version retrieval phase before any data assembly or packaging operations.</text>
      <text xml:lang="de">Es gibt keine Zustandsinkonsistenz. Die Funktion wird in der Versionabfragephase beendet, bevor Datenausammlung oder Verpackungsvorgänge erfolgen.</text>
    </state>
    <state name="Device Functionality">
      <text xml:lang="en">Device functions continue to execute normally. The device remains fully operational and all API functions remain accessible.</text>
      <text xml:lang="de">Gerätefunktionen werden weiterhin normal ausgeführt. Das Gerät bleibt vollständig betriebsbereit und alle API-Funktionen bleiben zugänglich.</text>
    </state>
    <state name="Version Information">
      <text xml:lang="en">Version information remains stored and available on the device. The retrieval can be retried if the underlying issue is resolved.</text>
      <text xml:lang="de">Versionsinformationen bleiben auf dem Gerät gespeichert und verfügbar. Der Abruf kann wiederholt werden, wenn das zugrunde liegende Problem behoben ist.</text>
    </state>
  </postconditionality>
  <notes>
    <note>
      <text xml:lang="en">Indication: Retrieval of component version information failed</text>
      <text xml:lang="de">Anzeichen: Abruf von Komponentenversionsinformationen fehlgeschlagen</text>
    </note>
    <note>
      <text xml:lang="en">Topics: Device Information, Version Management, Component Management, Information Retrieval</text>
      <text xml:lang="de">Themen: Geräteinformationen, Versionsverwaltung, Komponentenverwaltung, Informationsabfrage</text>
    </note>
  </notes>
  <implementationContext>
    <note>
      <text xml:lang="en">Raised by getComponentVersions when version information retrieval fails</text>
      <text xml:lang="de">Wird von getComponentVersions ausgelöst, wenn der Versionabrufs fehlschlägt</text>
    </note>
    <note>
      <text xml:lang="en">Version query function retrieves component firmware and version information</text>
      <text xml:lang="de">Versionsfragefunktion ruft Komponenten-Firmware und Versionsinformationen ab</text>
    </note>
    <note>
      <text xml:lang="en">Device maintains component version metadata</text>
      <text xml:lang="de">Das Gerät verwaltet Komponentenversionsmeta-Daten</text>
    </note>
    <note>
      <text xml:lang="en">Retrieval failure prevents version information access</text>
      <text xml:lang="de">Abruffehler verhindert Versioninformationszugriff</text>
    </note>
  </implementationContext>
</exception>

